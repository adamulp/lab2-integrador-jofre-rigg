// views/calendario.pug
doctype html
html
  head
    title Calendario
    link(rel='stylesheet', href='https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/css/bootstrap.min.css')
    script(src='https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/5.10.1/main.min.js')
    script.
      document.addEventListener('DOMContentLoaded', function() {
        var calendarEl = document.getElementById('calendar');
        var calendar = new FullCalendar.Calendar(calendarEl, {
          initialView: 'dayGridMonth',
          events: !{JSON.stringify(citas)}
        });
        calendar.render();
      });
  body
    .container
      h1 Calendario de Citas
      form(action='/calendario', method='POST')
        .row
          .col-md-4
            .mb-3
              label(for='especialidad') Especialidad:
              select.form-select(name='especialidad' id='especialidad')
                option(value='') -- Seleccione Especialidad --
                each especialidad in especialidades
                  option(value=especialidad.nombre) #{especialidad.nombre}
          .col-md-4
            .mb-3
              label(for='medico') Médico:
              select.form-select(name='medico' id='medico')
                option(value='') -- Seleccione Médico --
                each medico in medicos
                  option(value=medico.nombreCompleto) #{medico.nombreCompleto}
          .col-md-4
            .mb-3
              label(for='paciente') Paciente:
              select.form-select(name='paciente' id='paciente')
                option(value='') -- Seleccione Paciente --
                each paciente in pacientes
                  option(value=paciente.nombreCompleto) #{paciente.nombreCompleto}
        button.btn.btn-primary(type='submit') Filtrar
      .calendar-grid
        .row
          .col.border(style='background-color: #f8f9fa;') Hora
          each dia in ['Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado', 'Domingo']
            .col.border(style='background-color: #f8f9fa;') #{dia}
        each hora in ['08:00', '09:00', '10:00', '11:00', '12:00', '13:00', '14:00', '15:00', '16:00', '17:00', '18:00', '19:00', '20:00']
          .row
            .col.border #{hora}
            each dia in ['Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado', 'Domingo']
              .col.border(style='height: 50px;')